webpackJsonp([11],{207:function(e,t,o){o(329);var a=o(47)(o(251),o(365),null,null);e.exports=a.exports},223:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(228),r=o.n(a);t.default={name:"goga-header",props:["title"],directives:{sticky:r.a}}},224:function(e,t,o){t=e.exports=o(204)(!1),t.push([e.i,".goga-header{position:relative;height:1.12rem;background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.goga-header h1{font-size:.45333333rem;line-height:1.12rem;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);color:#4d4d4d}.goga-header-left,.goga-header-right{height:1.12rem;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 .22666667rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;vertical-align:top;color:#4d4d4d;font-size:.4rem}.goga-header-left a,.goga-header-right a{color:#4d4d4d}.goga-header-left svg,.goga-header-right svg{display:inline-block;width:.66666667rem;height:.66666667rem;fill:#4d4d4d;vertical-align:middle}",""])},225:function(e,t,o){var a=o(224);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(205)("5857cc9f",a,!0)},226:function(e,t,o){o(225);var a=o(47)(o(223),o(227),null,null);e.exports=a.exports},227:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"sticky",rawName:"v-sticky",value:{zIndex:100,stickyTop:0},expression:"{ zIndex: 100, stickyTop: 0 }"}]},[o("div",[o("header",{staticClass:"goga-header bdr-bottom"},[o("div",{staticClass:"goga-header-left"},[e._t("left")],2),e._v(" "),e.title?o("h1",[e._v(e._s(e.title))]):e._e(),e._v(" "),o("div",{staticClass:"goga-header-right"},[e._t("right")],2)]),e._v(" "),o("div",[e._t("bottom")],2)])])},staticRenderFns:[]}},228:function(e,t,o){!function(t,o){e.exports=o()}(0,function(){return function(e){function t(a){if(o[a])return o[a].exports;var r=o[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,a){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,n;t.default={bind:function(e,t){var o=e.style,s=t.value||{};if(r=s.stickyTop||0,n=s.zIndex||1e3,o.position="-webkit-sticky",o.position="sticky",~o.position.indexOf("sticky"))return o.top=r+"px",void(o.zIndex=n);var i=e.firstElementChild.style;i.cssText="left: 0; right: 0; top: "+r+"px; z-index: "+n;var l=!1,d=function(){l||(o.height||(o.height=e.offsetHeight+"px"),i.position="fixed",l=!0)},c=function(){l&&(i.position="",l=!1)},u=function(){return e.getBoundingClientRect().top<=r?void d():void c()};a=function(){setTimeout(u,300)},window.addEventListener("scroll",a)},unbind:function(){window.removeEventListener("scroll",a)},update:function(e,t){var o=t.value||{};r=o.stickyTop||0,n=o.zIndex||0;var a=e.firstElementChild.style;e.style.top=a.top=r+"px",e.style.zIndex=a.zIndex=n}}}])})},251:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(82),r=o.n(a),n=o(9),s=o.n(n),i=o(8),l=o.n(i),d=o(80),c=o.n(d),u=o(14),g=o(48),p=o(226),m=o.n(p);t.default={components:{gogaHeader:m.a},data:function(){return{disabled:!1,model:{goName:"",goPrice:0,goTag:0,goUnit:"",sort:0,goType:"水果"},goTypes:[]}},computed:c()({},o.i(g.a)({getUser:"global/getUser"}),{getDate:function(){var e=new Date,t=e.getMonth()+1,o=e.getDate();return t>=1&&t<=9&&(t="0"+t),o>=0&&o<=9&&(o="0"+o),e.getFullYear()+"-"+t+"-"+o}}),mounted:function(){var e=this;return l()(s.a.mark(function t(){var o;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.getUser.type){t.next=3;break}return e.$router.push({name:"login"}),t.abrupt("return");case 3:o=e.$route.params.id,e.getGoods(o),e.getType();case 6:case"end":return t.stop()}},t,e)}))()},methods:{goBack:function(){this.$router.go(-1)},getGoods:function(e){var t=this;return l()(s.a.mark(function o(){var a,n,i,l;return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.get("api/StoreUse/stockManager/OneGoodsDetail.ashx",{goSn:e});case 2:a=o.sent,n=a.data,i=n.StatusCode,l=n.goodInfo,t.model=r()(t.model,l[0]);case 7:case"end":return o.stop()}},o,t)}))()},getType:function(){var e=this;return l()(s.a.mark(function t(){var o,a,r,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get("api/storeUse/storeManager/goodsTypeList.ashx");case 2:o=t.sent,a=o.data,r=a.StatusCode,n=a.goodsTypeList,"200"===r?e.goTypes=n:console.error("NOT FIND");case 7:case"end":return t.stop()}},t,e)}))()},submit:function(){var e=this;return l()(s.a.mark(function t(){var o,a,n,i,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.$route.params.id,e.disabled=!0,t.next=4,u.a.post("api/StoreUse/stockManager/editGoods.ashx",r()(e.model,{goSn:o}));case 4:if(a=t.sent,n=a.data,i=n.StatusCode,l=n.Status,200!=i){t.next=15;break}return e.$store.dispatch("global/toast","修改成功"),t.next=12,e.$store.dispatch("admin/goods/getGoods");case 12:e.goBack(),t.next=16;break;case 15:e.$store.dispatch("global/toast",l);case 16:e.disabled=!1;case 17:case"end":return t.stop()}},t,e)}))()}}}},308:function(e,t,o){t=e.exports=o(204)(!1),t.push([e.i,"",""])},329:function(e,t,o){var a=o(308);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(205)("bbf62ddc",a,!0)},365:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("goga-header",{attrs:{title:"修改商品"}},[o("div",{on:{click:e.goBack},slot:"left"},[o("svg",[o("use",{attrs:{"xlink:href":"#back"}})])])]),e._v(" "),o("div",[o("div",{staticClass:"form-wrapper"},[o("section",[o("label",{staticClass:"from-label",attrs:{for:"goName"}},[e._v("名称：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goName,expression:"model.goName"}],staticClass:"form-control",attrs:{type:"text",id:"goName",placeholder:"输入水果名称"},domProps:{value:e.model.goName},on:{input:function(t){t.target.composing||(e.model.goName=t.target.value)}}})]),e._v(" "),o("section",[o("label",{staticClass:"from-label",attrs:{for:"goUnit"}},[e._v("商品规格：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goUnit,expression:"model.goUnit"}],staticClass:"form-control",attrs:{type:"text",id:"goUnit",placeholder:"输入商品单位"},domProps:{value:e.model.goUnit},on:{input:function(t){t.target.composing||(e.model.goUnit=t.target.value)}}})]),e._v(" "),o("section",[o("label",{staticClass:"from-label",attrs:{for:"goPrice"}},[e._v("当前价格：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goPrice,expression:"model.goPrice"}],staticClass:"form-control",attrs:{type:"number",id:"goPrice",placeholder:"0.00"},domProps:{value:e.model.goPrice},on:{input:function(t){t.target.composing||(e.model.goPrice=t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),o("section",[o("label",{staticClass:"from-label"},[e._v("标签：")]),e._v(" "),o("div",{staticClass:"form-control"},[o("div",{staticClass:"radio-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goTag,expression:"model.goTag"}],attrs:{id:"tag_1",type:"radio",name:"tag",value:"option"},domProps:{value:1,checked:e._q(e.model.goTag,1)},on:{__c:function(t){e.model.goTag=1}}}),e._v(" "),o("label",{attrs:{for:"tag_1"}},[e._v("热销")])]),e._v(" "),o("div",{staticClass:"radio-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goTag,expression:"model.goTag"}],attrs:{id:"tag_2",type:"radio",name:"tag",value:"option"},domProps:{value:2,checked:e._q(e.model.goTag,2)},on:{__c:function(t){e.model.goTag=2}}}),e._v(" "),o("label",{attrs:{for:"tag_2"}},[e._v("当季")])]),e._v(" "),o("div",{staticClass:"radio-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goTag,expression:"model.goTag"}],attrs:{id:"tag_3",type:"radio",name:"tag",value:"option"},domProps:{value:3,checked:e._q(e.model.goTag,3)},on:{__c:function(t){e.model.goTag=3}}}),e._v(" "),o("label",{attrs:{for:"tag_3"}},[e._v("新品")])]),e._v(" "),o("div",{staticClass:"radio-box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.goTag,expression:"model.goTag"}],attrs:{id:"tag_4",type:"radio",name:"tag",value:"option"},domProps:{value:4,checked:e._q(e.model.goTag,4)},on:{__c:function(t){e.model.goTag=4}}}),e._v(" "),o("label",{attrs:{for:"tag_4"}},[e._v("特价")])])])]),e._v(" "),o("section",[o("label",{staticClass:"from-label",attrs:{for:"goName"}},[e._v("类别：")]),e._v(" "),o("div",{staticClass:"type-control"},[o("select",{directives:[{name:"model",rawName:"v-model",value:e.model.goType,expression:"model.goType"}],on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.model.goType=t.target.multiple?o:o[0]}}},e._l(e.goTypes,function(t){return o("option",{domProps:{value:t.goType}},[e._v(e._s(t.goType))])}))])]),e._v(" "),o("section",[o("label",{staticClass:"from-label",attrs:{for:"sort"}},[e._v("排序：")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.sort,expression:"model.sort"}],staticClass:"form-control",attrs:{type:"number",id:"sort",placeholder:"0"},domProps:{value:e.model.sort},on:{input:function(t){t.target.composing||(e.model.sort=t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),o("section",{staticClass:"readonly"},[o("label",{staticClass:"from-label",attrs:{for:"goPrice"}},[e._v("时间：")]),e._v(" "),o("div",{staticClass:"form-control"},[e._v(e._s(e.getDate))])]),e._v(" "),o("div",{staticClass:"btn-group"},[o("button",{staticClass:"btn btn-default",attrs:{disabled:e.disabled},on:{click:e.submit}},[e._v("修改商品")])])])])],1)},staticRenderFns:[]}}});