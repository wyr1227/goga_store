webpackJsonp([2],{221:function(e,t,i){i(331);var o=i(47)(i(268),i(367),null,null);e.exports=o.exports},223:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(228),n=i.n(o);t.default={name:"goga-header",props:["title"],directives:{sticky:n.a}}},224:function(e,t,i){t=e.exports=i(204)(!1),t.push([e.i,".goga-header{position:relative;height:1.12rem;background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.goga-header h1{font-size:.45333333rem;line-height:1.12rem;position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);color:#4d4d4d}.goga-header-left,.goga-header-right{height:1.12rem;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 .22666667rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;vertical-align:top;color:#4d4d4d;font-size:.4rem}.goga-header-left a,.goga-header-right a{color:#4d4d4d}.goga-header-left svg,.goga-header-right svg{display:inline-block;width:.66666667rem;height:.66666667rem;fill:#4d4d4d;vertical-align:middle}",""])},225:function(e,t,i){var o=i(224);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(205)("5857cc9f",o,!0)},226:function(e,t,i){i(225);var o=i(47)(i(223),i(227),null,null);e.exports=o.exports},227:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"sticky",rawName:"v-sticky",value:{zIndex:100,stickyTop:0},expression:"{ zIndex: 100, stickyTop: 0 }"}]},[i("div",[i("header",{staticClass:"goga-header bdr-bottom"},[i("div",{staticClass:"goga-header-left"},[e._t("left")],2),e._v(" "),e.title?i("h1",[e._v(e._s(e.title))]):e._e(),e._v(" "),i("div",{staticClass:"goga-header-right"},[e._t("right")],2)]),e._v(" "),i("div",[e._t("bottom")],2)])])},staticRenderFns:[]}},228:function(e,t,i){!function(t,i){e.exports=i()}(0,function(){return function(e){function t(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,o){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n,s;t.default={bind:function(e,t){var i=e.style,r=t.value||{};if(n=r.stickyTop||0,s=r.zIndex||1e3,i.position="-webkit-sticky",i.position="sticky",~i.position.indexOf("sticky"))return i.top=n+"px",void(i.zIndex=s);var a=e.firstElementChild.style;a.cssText="left: 0; right: 0; top: "+n+"px; z-index: "+s;var l=!1,d=function(){l||(i.height||(i.height=e.offsetHeight+"px"),a.position="fixed",l=!0)},c=function(){l&&(a.position="",l=!1)},u=function(){return e.getBoundingClientRect().top<=n?void d():void c()};o=function(){setTimeout(u,300)},window.addEventListener("scroll",o)},unbind:function(){window.removeEventListener("scroll",o)},update:function(e,t){var i=t.value||{};n=i.stickyTop||0,s=i.zIndex||0;var o=e.firstElementChild.style;e.style.top=o.top=n+"px",e.style.zIndex=o.zIndex=s}}}])})},229:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},230:function(e,t,i){t=e.exports=i(204)(!1),t.push([e.i,".empty-content{position:absolute;top:1.12rem;left:0;right:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:distribute;justify-content:space-around;font-size:.4rem}",""])},231:function(e,t,i){var o=i(230);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(205)("e48e05de",o,!0)},232:function(e,t,i){i(231);var o=i(47)(i(229),i(233),null,null);e.exports=o.exports},233:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"empty-content"},[i("div",{staticClass:"inner"},[e._t("default")],2)])},staticRenderFns:[]}},268:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(9),n=i.n(o),s=i(8),r=i.n(s),a=i(82),l=i.n(a),d=i(80),c=i.n(d),u=i(48),f=i(14),p=i(27),g=i.n(p),h=i(226),m=i.n(h),v=i(232),x=i.n(v),b=i(342),_=i.n(b);t.default={components:{gogaHeader:m.a,listNone:x.a,jinhuoItem:_.a},data:function(){return{isRecord:!1,disabled:!1,timestamp:0}},computed:c()({},i.i(u.a)({getUser:"global/getUser",getDate:"shop/jinhuo/getDate",getList:"shop/jinhuo/getList"}),{allPrice:function(){var e=0;return this.getList.list.forEach(function(t){e+=t.goNum*t.goPrice}),e}}),mounted:function(){this.isRecord=!!this.$route.query.record;var e=this.timestamp=this.$route.query.date||(new Date).getTime();(this.$store.dispatch("shop/jinhuo/getDate",parseInt(e))||0==this.getList.length)&&this.$store.dispatch("shop/jinhuo/getJinhuo",e)},methods:{goBack:function(){this.$router.go(-1)},del:function(e,t){this.$store.dispatch("shop/jinhuo/del",l()(e,{index:t}))},submit:function(){var e=this;return r()(n.a.mark(function t(){var i,o,s,r,a,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.getList.list.length){t.next=3;break}return e.$store.dispatch("global/toast","列表为空"),t.abrupt("return");case 3:return e.$store.dispatch("global/setLoading",!0),i=e.getList.list.map(function(e){return{goSn:e.goSn,goNum:e.goNum}}),o=!0,t.next=8,f.a.post("api/storeUse/StoreManager/addPurchase.ashx",{purchaseGoods:i,pDate:g()("yyyy-MM-dd",parseInt(e.timestamp))});case 8:s=t.sent,r=s.data,a=r.StatusCode,l=r.Status,"200"==a?e.$store.dispatch("global/toast","更新成功"):e.$store.dispatch("global/toast",l),e.disabled=!1,e.$store.dispatch("global/setLoading",!1);case 15:case"end":return t.stop()}},t,e)}))()}}}},269:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["goods"],methods:{minus:function(){this.goods.goNum>1?this.goods.goNum--:this.goods.select=!1},plus:function(){this.goods.goNum++},del:function(){this.$store.dispatch("shop/jinhuo/del",this.goods.id)}}}},297:function(e,t,i){t=e.exports=i(204)(!1),t.push([e.i,".jinhuo-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 .4rem;height:2.66666667rem}.jinhuo-item .p-delete{width:1.09333333rem}.jinhuo-item .p-delete svg{width:.6rem;height:.6rem;fill:#aeaeae}.jinhuo-item .p-info{-webkit-box-flex:1;-ms-flex:1;flex:1;font-size:.37333333rem;line-height:1.5}.jinhuo-item .num-control{width:3.76rem;overflow:hidden}.jinhuo-item .num-control,.jinhuo-item .num-control .handle{display:-webkit-box;display:-ms-flexbox;display:flex;height:.88rem;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.jinhuo-item .num-control .handle{width:.88rem;-ms-flex-pack:distribute;justify-content:space-around;background-color:#ffb230;border-radius:50%}.jinhuo-item .num-control .handle svg{width:.4rem;height:.4rem;fill:#fff}.jinhuo-item .num-control .p-num{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden;font-size:.4rem}.jinhuo-item .num-control .p-num input{width:100%;color:#333;text-align:center;line-height:.88rem}",""])},310:function(e,t,i){t=e.exports=i(204)(!1),t.push([e.i,'.date-box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:.4rem;background-color:#fff}.date-box .left{font-size:.42666667rem;color:#ffb230}.jinhuo-wrapper{padding-bottom:1.29333333rem;background-color:#fff}.footer-jinhuo{position:fixed;bottom:0;left:0;right:0;height:1.30666667rem;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;z-index:500}.footer-jinhuo button{display:block;width:3.6rem;font-size:.50666667rem;color:#fff;height:1.29333333rem;background-color:#ffb230}.footer-jinhuo button:active{background-color:#fcb552}.footer-jinhuo .p-price{-webkit-box-flex:1;-ms-flex:1;flex:1;height:1.30666667rem;line-height:1.30666667rem;position:relative;padding-left:.4rem;font-size:.4rem;color:#fb9f20}.footer-jinhuo .p-price:after{content:"";height:1px;width:100%;border-bottom:1px solid #f0f0f0;position:absolute;top:-1px;right:0;transform:scaleY(.5);-webkit-transform:scaleY(.5);z-index:10}',""])},318:function(e,t,i){var o=i(297);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(205)("2f5fa8b7",o,!0)},331:function(e,t,i){var o=i(310);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(205)("e7275f04",o,!0)},342:function(e,t,i){i(318);var o=i(47)(i(269),i(353),null,null);e.exports=o.exports},353:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jinhuo-item bdr-bottom"},[i("div",{staticClass:"p-delete",on:{click:function(t){e.del()}}},[i("svg",[i("use",{attrs:{"xlink:href":"#delete"}})])]),e._v(" "),i("div",{staticClass:"p-info"},[i("p",[e._v(e._s(e.goods.goName)+"\n      "),1==e.goods.goTag?i("small",[e._v("(热销)")]):e._e(),e._v(" "),2==e.goods.goTag?i("small",[e._v("(当季)")]):e._e(),e._v(" "),3==e.goods.goTag?i("small",[e._v("(新品)")]):e._e(),e._v(" "),4==e.goods.goTag?i("small",[e._v("(特价)")]):e._e()]),e._v(" "),i("p",[e._v("规格："+e._s(e.goods.goUnit))]),e._v(" "),i("p",[e._v("总金额：¥"+e._s(e._f("price")(e.goods.goPrice*e.goods.goNum)))])]),e._v(" "),i("div",{staticClass:"num-control"},[i("div",{staticClass:"handle",on:{click:e.minus}},[i("svg",[i("use",{attrs:{"xlink:href":"#minus"}})])]),e._v(" "),i("div",{staticClass:"p-num"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.goods.goNum,expression:"goods.goNum",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.goods.goNum},on:{input:function(t){t.target.composing||(e.goods.goNum=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"handle",on:{click:e.plus}},[i("svg",[i("use",{attrs:{"xlink:href":"#add2"}})])])])])},staticRenderFns:[]}},367:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("goga-header",{attrs:{title:"进货管理"}},[i("div",{on:{click:e.goBack},slot:"left"},[i("svg",[i("use",{attrs:{"xlink:href":"#back"}})])]),e._v(" "),i("div",{slot:"right"},[e.isRecord?e._e():i("router-link",{attrs:{to:{name:"jinhuoRecord"}}},[i("svg",[i("use",{attrs:{"xlink:href":"#calendar"}})])]),e._v(" "),i("router-link",{attrs:{to:{name:"jinhuoAdd"}}},[i("svg",[i("use",{attrs:{"xlink:href":"#add"}})])])],1)]),e._v(" "),i("div",[i("div",{staticClass:"date-box"},[i("div",{staticClass:"left"},[e._v(e._s(e.getDate))]),e._v(" "),i("div",{staticClass:"right"})])]),e._v(" "),e.getList.isLoad?i("div",[e.getList.list.length>0?i("div",{staticClass:"jinhuo-wrapper"},e._l(e.getList.list,function(e,t){return i("div",{staticClass:"jinhuo-list"},[i("jinhuoItem",{attrs:{goods:e}})],1)})):i("list-none",[e._v("没有进货列表")])],1):e._e(),e._v(" "),i("div",{staticClass:"footer-jinhuo"},[i("div",{staticClass:"p-price"},[e._v("\n      合计：¥"+e._s(e._f("price")(e.allPrice))+"\n    ")]),e._v(" "),i("button",{attrs:{disabled:e.disabled},on:{click:e.submit}},[e._v("出账")])])],1)},staticRenderFns:[]}}});